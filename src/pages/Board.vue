<template>
  <!-- test8 -->
  <div class="boardWrap">
    <svg class="board" ref="board" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1041 1041">
      <path id="park" fill="#9EFF9C" d="M190.7 710.7a380.7 380.7 0 0 1 329.6-571v361.6a19 19 0 0 0-16.4 28.6L190.7 710.7Z"/>
      <path fill="#001A5B" d="M240.8 327.5c.5-.9 1-1.7 1.6-2.3.5-.6 1-1 1.6-1.4.6-.3 1-.5 1.6-.6.5 0 1 0 1.4.3l1 1 .2 1.7c0 .7-.1 1.4-.4 2.2a13.6 13.6 0 0 1-4.4 6.2c-.6.3-1 .5-1.6.5-.5 0-1 0-1.3-.3-.5-.2-.8-.6-1-1-.2-.5-.3-1-.3-1.7 0-.6.2-1.3.4-2 .3-.9.7-1.7 1.2-2.6Zm4.4 2.6a5 5 0 0 0 .8-2.3c0-.7-.2-1.2-.7-1.4-.4-.3-1-.3-1.5 0a5 5 0 0 0-1.6 2c-.5.8-.8 1.5-.8 2.2 0 .6.2 1.1.7 1.4.5.2 1 .2 1.5-.1.6-.4 1.1-1 1.6-1.8Zm-2 8.4 8.3-14.4 1.6.9-2.8 4.8 1.5.8.5.2.5-.1-.9 3.6-3.1-1.8-4 7-1.6-1Zm5.5-3.9c0 .3 0 .5.2.7l.6.7.9.6 1.2.7.2.1 3.7-6.5c.2-.3.1-.5-.1-.7l2.5.2-4.6 8 .7.3-2.3 2.3-1.1-.7-1.7-1.2c-.4-.4-.7-.9-.9-1.4-.1-.4-.2-1-.1-1.5 0-.5.2-1.1.5-1.8l.3.2Zm-1.2 12.2c.4.2.7.1 1-.2l-1.2 3.6-1.4-.7-.9.9-1 .6a2.3 2.3 0 0 1-2-.1 2 2 0 0 1-.9-1 3 3 0 0 1-.2-1.3l.3-1.6a9.6 9.6 0 0 1 1.8-3c.4-.5.7-.8 1.2-1.1.4-.3.8-.4 1.2-.5.5 0 1 0 1.3.3.4.2.6.5.8.7.2.3.3.7.3 1v1.2l-.3 1.2Zm-13.7 1.3 1.1.6 1.5-2.6 1.9.2-2 3.2 6.9 4 .5.1h.5l-.8 3.6-11.1-6.5 1.5-2.6Zm3.7-8.4.6.2.6-.3-1.3 3.7-2.3-1.4-4 7c-.1.2-.2.4-.1.6 0 .2.1.4.3.5l-2.7-.5 6.5-11.2 2.4 1.4Zm3.1 7a12.7 12.7 0 0 0-1.4 3.6l-1-.3c-.1-.5 0-1.2.1-2 .2-.8.5-1.7 1-2.5l-2-1 1.6-2.8 1.9 1.1 2.1-3.7 1.6 1-3.9 6.6Zm2.9-.4c-.3.5-.4.9-.4 1.3 0 .3.1.6.4.8h.9l.9-1c.2-.5.4-1 .4-1.4 0-.3-.2-.6-.4-.7-.3-.2-.6-.2-1 0l-.8 1Zm-5.1 14.3.1.1.7.2c.2 0 .4-.1.5-.3l-1.2 3.6-1.6-1c-.6.5-1.3.8-2 .8-.8 0-1.7 0-2.7-.5l-.6 1.1 3.5 2c.2.2.3.2.5.2l.5-.1-.7 3.3-13.8-8 1.4-2.3 6.9 4 .6-1c-1.5-1-2.4-2-2.8-3-.4-1.1-.2-2.2.4-3.3a3.7 3.7 0 0 1 2.7-2c1.2-.1 2.6.3 4.3 1.2 1.2.7 2.1 1.5 2.7 2.4.5.9.7 1.7.6 2.6Zm-17.7 2.1 13 7.6.5.1.5-.1-.7 3.3-14.7-8.5 1.4-2.4Zm9-5.4c-.2.2-.2.5-.2.7l.5.8 1 .8a14.3 14.3 0 0 0 3.9 2h.9c.2 0 .4-.2.5-.4.2-.2.2-.5 0-.7 0-.3-.2-.5-.4-.8l-1-.8a19.5 19.5 0 0 0-3.8-2h-1c-.2 0-.3.2-.5.4Zm-17 19.2 8 4.6 1.3-2.1 2.2.3-1.7 2.8 3.1 1.8.5.2.5-.1-.8 3.6-14.6-8.4 1.6-2.7Zm9.4-8.3c-.1 1.4.1 2.7.9 4a9.1 9.1 0 0 0 3.4 3.1l.6.4.4.2 1.2.7c.3.2.5.2.7.2.2 0 .4-.1.5-.3l-.9 4-4-2.4c-1.5-.9-3-1.4-4.3-1.4a6 6 0 0 0-3.9 1.2l-1-.5c.9-1 1.7-1.8 2.7-2.4.9-.5 2-.8 3-.8a7.6 7.6 0 0 1-.2-6.6l1 .6Z"/>
      <path id="dining" fill="#DAB379" d="M850 710.7a380.7 380.7 0 0 1-659.3 0l313.2-180.9a19 19 0 0 0 33 0L850 710.8Z"/>
      <path fill="#001A5B" d="M496.8 858.6v-3.1c-1.1.6-2.6 1-4.5 1h-7.8v-1.9h4.7V853c-1-.2-1.7-.6-2.3-1a2.5 2.5 0 0 1-.5-3.2l1-1 1.4-.6a7.1 7.1 0 0 1 3.7 0l1.5.7c.4.2.7.6 1 1 .2.3.3.7.3 1.2 0 .7-.3 1.3-.8 1.8-.6.5-1.3.9-2.2 1v1.7h.8l2-.1 1.7-.4v-10.8l-.4-.4 3.5-1.2v16.9h-3Zm-1.1-12.2h-9c-.2 0-.4.1-.5.5l-1-2.3h3.7v-.6c0-.3 0-.5-.2-.7a.7.7 0 0 0-.5-.3l4-1.2v2.8h3.5v1.8Zm-5 5c.6 0 1-.1 1.4-.4.3-.3.4-.6.4-1 0-.3-.1-.6-.4-.9-.3-.3-.8-.4-1.4-.4a2.3 2.3 0 0 0-1.4.4l-.4.5a1.3 1.3 0 0 0 0 1l.4.4.6.3.8.1Zm26.8 1v6.2h-3.1v-4.4h-8c-.4 0-.5.2-.6.5l-1.1-2.3h12.8Zm-15-1.8a6.1 6.1 0 0 0 2.8-2c.7-.9 1-2 1-3.2v-1c0-.2 0-.5-.2-.6a.7.7 0 0 0-.5-.4l3.8-1.1v3.1c0 1 .3 2 .9 2.8.6.8 1.5 1.5 2.8 2v1a7.4 7.4 0 0 1-5.2-2.5 8 8 0 0 1-5.5 3v-1.1Zm11.9 1v-7.8l-.1-.5c0-.2-.2-.3-.4-.4l3.6-1.2v9.9h-3.1Zm8.6-7.3v-.1c0-.3 0-.5-.2-.7a.7.7 0 0 0-.5-.3l3.7-.8v2c.7.2 1.3.7 1.7 1.3.4.7.7 1.5.9 2.5h1.3v-4l-.1-.5-.4-.4 3.2-1v15.9h-2.7v-8h-1.2c0 1.7-.5 3-1.2 3.9-.8.9-1.8 1.3-3 1.3-1.3 0-2.3-.5-3-1.4-.8-1-1.2-2.4-1.2-4.3 0-1.4.3-2.6.7-3.5.5-.9 1.1-1.5 2-1.9Zm10.7 14.3v-15l-.1-.5-.4-.4 3.2-1v17h-2.7Zm-9.2-5c.3 0 .5 0 .6-.3.2-.2.4-.4.5-.8l.2-1.2a14.2 14.2 0 0 0-.2-4.3c-.1-.4-.3-.6-.5-.8a.8.8 0 0 0-.6-.3c-.2 0-.5 0-.6.3l-.5.8-.2 1.2a19.4 19.4 0 0 0 .2 4.3l.5.8c.1.2.4.3.6.3Zm25 5v-9.2h-2.4l-.9-2h3.4v-3.6l-.1-.5-.4-.4 3.6-1.2v16.9h-3.1Zm-11.9-4a6.3 6.3 0 0 0 3-2.6c.8-1.2 1.1-2.8 1.1-4.6v-2.6l-.1-.6a.7.7 0 0 0-.6-.4l3.9-1.2v4.8c0 1.7.3 3.1 1 4.4a6 6 0 0 0 2.9 2.7v1a7 7 0 0 1-5.5-3.2 7.6 7.6 0 0 1-5.7 3.4v-1Z"/>
      <path id="home" fill="#F4FFB4" d="M520.3 139.7a380.7 380.7 0 0 1 329.7 571L536.8 529.8a19 19 0 0 0-16.5-28.5V139.7Z"/>
      <path fill="#001A5B" d="m820.4 364-.8.4 1.2 1.1a17.6 17.6 0 0 1 2 2.9l1 1.4 1.2 2.3-5.1 3-2-2.4 1.3-.8-3.1-5.4-1 .6-2.1-2.3 5.9-3.4 1.5 2.6Zm-1 14.5c-1.1-.9-2.2-1.4-3.2-1.5-1.1-.1-2.2.1-3.3.8h-.1l1 1.7c0 .2.3.3.6.2l-1.4 2-4.8-8.2 1.6-.9 1.4 2.5h.2c.9-.6 1.5-1.3 2-2.2.4-1 .5-2 .3-3.4l.9-.5a7.4 7.4 0 0 1 .4 5.8 8 8 0 0 1 5.3 3.2l-1 .5Zm-5.2-10.9-6.4 3.8c-.2 0-.3.2-.4.3l-.1.5-2.8-2.5 8.2-4.7 1.5 2.6Zm7.4 2.1a49.7 49.7 0 0 0-3-4.6l-1 .5 3.2 5.4 1.2-.7-.4-.6Zm-17.6-6h-.1c-.3.1-.4.3-.5.5v.6l-2.6-2.8 1.7-1c-.1-.7 0-1.4.3-2.1.4-.7 1-1.4 1.8-2l-.7-1.1-3.5 2-.4.3-.1.5-2.5-2.3 13.8-7.9 1.3 2.4-6.8 4 .5 1a6.2 6.2 0 0 1 4-1c1.1.3 2 1 2.6 2 .7 1.1.8 2.2.3 3.4-.4 1-1.5 2.1-3 3a7.6 7.6 0 0 1-3.5 1.2c-1 0-1.9-.2-2.6-.8Zm7-16.4-13 7.5c-.2 0-.3.2-.4.3l-.1.5-2.5-2.3 14.7-8.4 1.3 2.4Zm.3 10.4a.8.8 0 0 0-.6-.4h-.9l-1.2.4a14.3 14.3 0 0 0-3.6 2.4l-.5.8v.7l.6.4h1l1.1-.5a19.4 19.4 0 0 0 3.7-2.3l.4-.8v-.7Zm-8.2-24.2-8 4.6 1.2 2.2-1.3 1.7-1.7-2.9-3 1.8-.5.4-.1.5-2.8-2.5 14.6-8.5 1.6 2.7Zm2.5 12.3a6.3 6.3 0 0 0-3.8-1.3c-1.4 0-3 .5-4.5 1.4l-.7.4-.3.2-1.3.7-.4.5v.6l-3-2.7 4-2.4a9.2 9.2 0 0 0 3.4-3 6 6 0 0 0 .9-4l.9-.5c.5 1.2.8 2.3.7 3.4 0 1-.2 2-.7 3a7.6 7.6 0 0 1 5.7 3.1l-.9.6Z"/>
    </svg>
  </div>
  <div class="beer" ref="beerCan">
    <BeerCan @click="boardAni" />
  </div>
</template>

<script>
import { gsap } from 'gsap'
import { onMounted, ref } from 'vue'
import BeerCan from '@/components/BeerCan'

export default {
  components: {
    BeerCan
  },
  setup () {
    const board = ref()
    const beerCan = ref()
    const beerCanData = ref(1)
    const boardAni = () => {
      gsap.to(board.value, {
        rotate: '+=120',
        duration: 1,
        ease: 'bounce',
        onStart () {
          beerCan.value.style.pointerEvents = 'none'
        },
        onComplete () {
          beerCan.value.style.pointerEvents = 'auto'
        }
      })
    }

    const rotateBoard = () => {
      if (beerCanData.value === 1) {
        boardAni()
        beerCanData.value = 2
      } else if (beerCanData.value === 2) {
        boardAni()
        beerCanData.value = 3
      } else if (beerCanData.value === 3) {
        boardAni()
        beerCanData.value = 1
      }
    }
    onMounted(() => {
      gsap.to('#flash', {
        rotate: -360,
        transformOrigin: 'center center',
        duration: 10,
        ease: 'none',
        repeat: -1
      })
    })

    return {
      board,
      beerCan,
      beerCanData,
      boardAni,
      rotateBoard
    }
  }
}
</script>

<style lang="scss" scoped>
.boardWrap {
  position: absolute;
  transform: translate(0, -50%);
  overflow: hidden;
}
.beer {
  position: relative;
  transform: translate(0, 0);
  width: 10%;
  cursor: pointer;
}
</style>
